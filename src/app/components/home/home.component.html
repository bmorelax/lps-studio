<div class="container-fluid p-0 dark-theme">
  <div class="row m-0">
    <div class="console-view" [ngClass]="{'d-none': isConsoleHidden}">
      <div class="console-output" #consoleOutput>
        <div #consoleOutputInner class="console-output-inner">
          <div *ngFor="let message of messages">
            <p>{{ message }}</p>
          </div>
        </div>
      </div>
      <div class="console-input">
        <input type="text" [(ngModel)]="consoleInput" (keypress)="consoleInputKeypress($event)" [disabled]="!isRunning" placeholder="Enter observations here...">
      </div>
    </div>
    <div class="col-md-12 p-0">
      <div class="timebar" [ngClass]="{'console-shown': !isConsoleHidden}">
        <div class="float-right">
          <div class="btn-group">
            <button class="btn btn-dark btn-sm" *ngIf="isRunning && !isPaused" (click)="requestPause()">
              <i class="fa fa-pause"></i>
            </button>
            <button class="btn btn-dark btn-sm" *ngIf="isRunning && isPaused" (click)="requestResume()">
              <i class="fa fa-play"></i>
            </button>
            <button class="btn btn-dark btn-sm" *ngIf="isRunning" (click)="requestStop()">
              <i class="fa fa-stop"></i>
            </button>
            <button class="btn btn-dark btn-sm" *ngIf="!isRunning" (click)="requestOpenFile()">
              <i class="fa fa-folder-open-o"></i>
            </button>
            <button class="btn btn-dark btn-sm" *ngIf="!isRunning && currentFile !== undefined" (click)="requestRestart()">
              <i class="fa fa-refresh"></i>
            </button>
            <button class="btn btn-dark btn-sm" (click)="toggleConsoleView()">
              <i class="fa fa-chevron-right" *ngIf="!isConsoleHidden"></i>
              <i class="fa fa-chevron-left" *ngIf="isConsoleHidden"></i>
            </button>
          </div>
          
        </div>
        <span class="timing">{{ currentTime }}</span>
      </div>
      <sandbox #sandbox id="sandbox" [isFrozen]="isPaused || !isRunning" (onMouse)="handleCanvasMouseEvent($event)" (ready)="handleCanvasReady()"></sandbox>

      <div class="no-program-overlay" *ngIf="currentFile === undefined" [ngClass]="{'console-shown': !isConsoleHidden}">
        <div  class="col-md-8 offset-md-2 col-sm-10 offset-sm-1 p-0 col-lg-6 offset-lg-3">
          <img src="assets/lps-studio-illustration.png" class="img-fluid" alt="">
          <p class="text-center">{{ emptyCanvasMessage }}</p>
        </div>
      </div>
    </div>
  </div>
</div>
